<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% endblock title %}</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="bg-gray-100">

    <nav class="bg-indigo-600 p-4 text-white flex justify-end">
        {% if user.is_authenticated %}
        <a href="{% url "dashboard" %}" class= 'mx-4'>Dashboard</a>
        <a href="{% url "transaction_add" %}">Add Transaction</a>
        <a href="{% url "transaction_list" %}" class= 'mx-4'>Transactions</a>
        <a href="{% url "goal_add" %}">Add Goal</a>
        <form id = "logout-form" action="{% url 'logout' %}"
         method="post" style = "display-inline;">
            {% csrf_token %}
            <a href = "#" onclick = "document.getElementById
            ('logout-form').submit();" class = "ml-4">Logout</a>
        </form>
    {% else %}
        <a href="{% url 'login' %}" class="mr-4 hover:underline">Login</a>
        <a href="{% url 'register' %}" class=" mr-4 hover:underline">Register</a>
    {% endif %}
    </nav>

    {% block content %}{% endblock content %}

    {% if messages %}
    <div id = "message-container" class = "fixed top-5 left-1/2
    tranform - translate-x-1/2 w-96">
        {% for message in messages  %}
            <div class = "bg - {{ message.tags}}-500 text-white p-3
            rounded shadow-md mb-2 bg-purple-700">
                    Message : {{ message }}
            </div>
        {% endfor %}
    </div>
    {% endif %}

    <script>
        setTimeout(function(){
            let messageContainer = document.getElementById
            ('message-container');
            if (messageContainer){
                messageContainer.style.transition = "opacity 0.5s ease-out";
                messageContainer.style.opacity = "0";
                setTimeout(() => messageContainer.remove(), 500);
            }
        }, 5000);
    </script>

</body>
</html>
